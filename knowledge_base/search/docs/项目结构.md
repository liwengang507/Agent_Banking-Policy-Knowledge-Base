# 项目结构说明

## 整体目录结构

```
bank-policy-rag-system/
├── README.md                    # 项目主文档
├── CONTRIBUTING.md                 # 贡献指南
├── LICENSE                       # MIT许可证
├── .gitignore                    # Git忽略文件
├── requirements.txt              # Python依赖包
├── 启动RAG.py                   # 系统启动脚本
├── 长效思考RAG.py               # 主应用程序
├── docs/                        # 文档目录
│   ├── 系统架构.md              # 系统架构文档
│   ├── API文档.md               # API接口文档
│   ├── 部署指南.md              # 部署说明文档
│   └── 项目结构.md              # 项目结构说明
├── images/                      # 图片资源目录
├── static/                      # 静态文件目录
├── templates/                    # 模板文件目录
├── .streamlit/                  # Streamlit配置
├── backup/                      # 备份文件目录
└── 核心功能模块/                # 核心功能文件
    ├── fixed_rag_integration.py # RAG集成模块
    ├── rag_prompts.py          # RAG提示模板
    ├── search_engine.py        # 搜索引擎
    ├── hybrid_search_engine.py # 混合搜索引擎
    ├── interactive_search.py    # 交互式搜索
    ├── streamlit_rag_ui.py     # Streamlit界面
    └── web_interface.py         # Web界面
```

## 核心文件说明

### 主要应用文件

| 文件名 | 功能描述 | 重要性 |
|--------|----------|--------|
| `长效思考RAG.py` | 主应用程序，包含长效思考功能 | ⭐⭐⭐⭐⭐ |
| `启动RAG.py` | 系统启动脚本，自动安装依赖 | ⭐⭐⭐⭐⭐ |
| `README.md` | 项目说明文档，GitHub首页显示 | ⭐⭐⭐⭐⭐ |

### 核心功能模块

| 文件名 | 功能描述 | 依赖关系 |
|--------|----------|----------|
| `fixed_rag_integration.py` | RAG系统集成，核心处理逻辑 | 依赖search_engine.py |
| `rag_prompts.py` | RAG提示模板，定义问答格式 | 独立模块 |
| `search_engine.py` | 搜索引擎，文档检索功能 | 基础模块 |
| `hybrid_search_engine.py` | 混合搜索引擎，BM25+TF-IDF | 依赖search_engine.py |
| `interactive_search.py` | 交互式搜索界面 | 依赖search_engine.py |
| `streamlit_rag_ui.py` | Streamlit用户界面 | 依赖fixed_rag_integration.py |

### 文档目录

| 文件名 | 内容描述 | 目标用户 |
|--------|----------|----------|
| `系统架构.md` | 系统整体架构设计 | 开发者、架构师 |
| `API文档.md` | RESTful API接口说明 | 开发者、集成商 |
| `部署指南.md` | 部署和运维指南 | 运维人员、管理员 |
| `项目结构.md` | 项目文件结构说明 | 新贡献者、开发者 |

## 文件依赖关系

### 核心依赖链

```
启动RAG.py
    ↓
长效思考RAG.py
    ↓
fixed_rag_integration.py
    ↓
search_engine.py + rag_prompts.py
```

### 模块依赖图

```
长效思考RAG.py (主应用)
├── streamlit (Web框架)
├── fixed_rag_integration.py (RAG集成)
│   ├── search_engine.py (搜索引擎)
│   └── rag_prompts.py (提示模板)
└── hybrid_search_engine.py (混合搜索)
    └── search_engine.py (基础搜索)
```

## 配置文件说明

### Streamlit配置
```
.streamlit/
└── config.toml          # Streamlit配置文件
```

### 知识库配置
```
knowledge_base/
├── documents/           # 政策文档存储
├── index/              # 索引文件
└── config/             # 配置文件
```

## 开发环境文件

### Python相关
- `requirements.txt` - 生产环境依赖
- `__pycache__/` - Python字节码缓存
- `.gitignore` - Git忽略文件配置

### 项目文档
- `README.md` - 项目主文档
- `CONTRIBUTING.md` - 贡献指南
- `LICENSE` - 开源许可证

## 部署相关文件

### 启动脚本
- `启动RAG.py` - Python启动脚本
- `长效思考RAG.py` - 主应用程序

### 配置文件
- `requirements.txt` - 依赖包列表
- `.streamlit/config.toml` - Streamlit配置

## 备份和版本控制

### 备份目录
```
backup/
├── 简单RAG系统.py
├── 启动应用.py
├── 启动测试.bat
└── 其他备份文件...
```

### Git配置
- `.gitignore` - 忽略不需要版本控制的文件
- `LICENSE` - 开源许可证
- `CONTRIBUTING.md` - 贡献者指南

## 静态资源

### 图片资源
```
images/
└── (项目相关图片文件)
```

### 静态文件
```
static/
├── css/                 # 样式文件
├── js/                  # JavaScript文件
└── assets/              # 其他静态资源
```

### 模板文件
```
templates/
└── (HTML模板文件)
```

## 项目维护

### 定期清理
- 清理 `__pycache__/` 目录
- 清理临时文件
- 更新依赖包

### 版本管理
- 使用语义化版本号
- 维护 CHANGELOG.md
- 定期发布版本

### 文档更新
- 保持 README.md 最新
- 更新 API 文档
- 维护部署指南

## 扩展建议

### 新增功能
1. 在 `docs/` 目录添加新功能文档
2. 在 `static/` 目录添加相关资源
3. 更新 `requirements.txt` 添加新依赖

### 代码组织
1. 按功能模块组织代码
2. 保持文件命名一致性
3. 添加适当的注释和文档

### 测试覆盖
1. 为每个模块添加测试
2. 维护测试文档
3. 确保测试覆盖率
